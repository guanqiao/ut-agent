## 持续改进计划：提高测试覆盖率

### 当前状态
- **总体覆盖率**: 50%
- **零覆盖率模块**: 11个
- **低覆盖率模块**: 15个

### 改进目标
- 总体覆盖率提升至 **65%+**
- 消除所有 **零覆盖率模块**
- 核心功能模块覆盖率达到 **80%+**

### 第一阶段：核心模块测试（优先级最高）

#### 1. `utils/llm.py` (229 语句, 0% 覆盖率)
- **测试文件**: `tests/test_utils_llm.py`
- **测试重点**:
  - LLM 提供商注册表功能
  - 自定义提供商注册
  - `get_llm()` 函数（各种提供商场景）
  - 异常处理（配置错误、提供商不存在）
  - `list_available_providers()` 函数

#### 2. `graph/graph.py` (55 语句, 0% 覆盖率)
- **测试文件**: `tests/test_graph_graph.py`
- **测试重点**:
  - LangGraph 工作流构建
  - 节点配置和依赖
  - 工作流执行

#### 3. `tools/test_generator.py` (121 语句, 12% 覆盖率)
- **测试文件**: `tests/test_tools_test_generator.py`
- **测试重点**:
  - 测试生成器初始化
  - 不同语言的测试生成
  - 测试数据集成
  - 模板渲染

### 第二阶段：业务逻辑模块测试

#### 4. `selection/` 模块 (共 620 语句, 0% 覆盖率)
- **测试文件**: `tests/test_selection_*.py`
- **测试重点**:
  - 代码变更检测
  - 影响分析
  - 测试优先级计算
  - 智能测试选择

#### 5. `tools/mutation_analyzer.py` (173 语句, 0% 覆盖率)
- **测试文件**: `tests/test_tools_mutation_analyzer.py`
- **测试重点**:
  - PITest 集成
  - 变异测试结果解析
  - 存活变异分析
  - 测试建议生成

#### 6. `tools/test_mapper.py` (257 语句, 21% 覆盖率)
- **测试文件**: `tests/test_tools_test_mapper.py`
- **测试重点**:
  - 测试文件映射
  - 测试代码分析
  - 测试覆盖率映射

### 第三阶段：应用层模块测试

#### 7. `main.py` (190 语句, 0% 覆盖率)
- **测试文件**: `tests/test_main.py`
- **测试重点**:
  - 命令行参数解析
  - 主流程执行
  - 配置加载
  - 异常处理

#### 8. `ci/runner.py` (87 语句, 0% 覆盖率)
- **测试文件**: `tests/test_ci_runner.py`
- **测试重点**:
  - CI 流程执行
  - 覆盖率阈值检查
  - 报告生成

#### 9. `ui/app.py` (133 语句, 0% 覆盖率)
- **测试文件**: `tests/test_ui_app.py`
- **测试重点**:
  - UI 初始化
  - 事件处理
  - 状态管理

### 预期成果
- **新增测试**: 约 300-350 个
- **覆盖率提升**: 从 50% → 65%+
- **核心模块**: 80%+ 覆盖率
- **业务模块**: 60%+ 覆盖率
- **所有模块**: 至少 30% 覆盖率

### 实施策略
1. **模块化测试**: 每个模块独立测试文件
2. **边界情况**: 覆盖异常场景和边界条件
3. **集成测试**: 关键功能的端到端测试
4. **持续验证**: 每次提交运行测试套件

### 时间规划
- **第一阶段**: 1-2 天
- **第二阶段**: 2-3 天
- **第三阶段**: 1-2 天
- **总计**: 4-7 天完成所有测试编写