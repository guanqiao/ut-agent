## UT生成过程监控深度优化方案

### 优化目标
1. 实现LLM流式输出监控（Token实时统计、首Token延迟）
2. 测试执行实时进度反馈
3. 并行任务详细状态展示
4. 覆盖率分析进度监控
5. 监控面板增强（LLM状态、并发任务、性能指标）

### 实施计划

#### 阶段一：LLM调用监控增强
1. 修改 `async_llm.py` 添加流式调用方法
   - 实现 `call_streaming()` 方法
   - 添加 Token 实时计数
   - 记录首Token延迟（TTFT）
2. 创建 `llm_monitor.py` LLM调用监控器
   - 统计调用次数、Token数、耗时
   - 实时显示当前活跃调用

#### 阶段二：测试执行实时进度
1. 修改 `execute_tests_node` 使用异步子进程
2. 实时解析测试输出（Maven/Gradle/Jest格式）
3. 发射测试执行进度事件
4. 统计通过/失败/跳过用例数

#### 阶段三：并行任务监控增强
1. 扩展 `ParallelProgress` 数据类
   - 添加预估剩余时间
   - 活跃任务列表
   - 失败重试状态
2. 修改 `AsyncParallelProcessor` 支持详细进度

#### 阶段四：覆盖率分析进度
1. 添加覆盖率分析事件发射
2. 实现文件级覆盖率进度
3. 与上次覆盖率对比展示

#### 阶段五：监控面板增强
1. 添加LLM调用状态面板
2. 添加并发任务可视化
3. 添加性能指标实时展示
4. 创建监控协调器统一管理

#### 阶段六：测试验证
1. 编写新增功能的测试用例
2. 集成测试验证
3. 性能回归测试

### 预期效果
- LLM调用实时显示Token生成进度
- 测试执行显示 `Tests run: 15, Failures: 0, Skipped: 2`
- 并行任务显示 `Running: 4, Completed: 6/10, ETA: 00:45`
- 覆盖率分析显示 `Coverage: 45.2% (+3.1%)`